 args: '<IG-Name> <API-Key>',
  help: 'Connects your Discord id with your in-game name and API-Key',
  notservers: [ 'Ryzom Karavan' ],
  main: '(bot, msg, channel) => {\n    var help = "Use: ```xl\\n/amee registerChar IG-Name API-Key     \'registers the author for IG-Name and API-Key\'\\n```";\n    var aArg = msg.content.split(\' \');\n    if (aArg.length >= 4) {\n\tvar cKeys = require("./../ressources/ryzomapi/Char_Keys.json");\n\tvar mChars = require("./../ressources/ryzomapi/Char_Map.json");\n\tvar dChar = msg.author.id;\n\tvar rChar = aArg[2];\n\tvar cKey = aArg[3];\n\tif (mChars[dChar] != undefined && mChars[dChar] != rChar) {\n\t    channel.sendMessage("Attention! You\'re changing your in-game name. Is this really what you want to do?");\n\t    var c = require("../ressources/ryzomapi/Characters.json");\n\t    c[mChars[dChar]] = undefined;\n\t}\n\tmChars[dChar] = rChar;\n\tfs.writeFileSync(__dirname + "/../ressources/ryzomapi/Char_Map.json", JSON.stringify(mChars), "utf8");\n\tcKeys[rChar] = cKey;\n\tfs.writeFileSync(__dirname + "/../ressources/ryzomapi/Char_Keys.json", JSON.stringify(cKeys), "utf8");\n\tupdateAPI([rChar], false);\n\tchannel.sendMessage("Registered");\n    } else {\n\tchannel.sendMessage("Not enough Arguments. " + help);\n    }\n}' 